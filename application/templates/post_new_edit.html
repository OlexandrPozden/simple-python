{% extends 'layout.html' %} {% block body%}
<link rel="stylesheet" href="/static/css/post.css" type="text/css"> {% if post %}
<!-- editing -->
<h3>Edit post</h3>
<div class="post">
    <form action="/post/{{post.post_id}}/edit" method="POST">
        <label for="title">Title</label>
        <input type="text" name="title" value="{{post.title}}" required>
        <label for="text">Text</label>
        <textarea cols="50" rows="4" name="text" required>{{post.text}}</textarea>
        <div class="checkbox">
            <label for="publish">Request to publish?</label>
            <input type="checkbox" {% if post.request_publish %}checked{% endif %}></div>
        <input type="submit" value="submit changes">
    </form>
</div>

{% else %}
<h3>Create new post.</h3>
<div class="post">
    <form action="/post/new" method="post">
        <label for="title">Title</label>
        <input type="text" name="title" value="" required>
        <label for="text">Text</label>
        <textarea cols="50" rows="4" name="text" required>{{post.text}}</textarea>
        <div class="checkbox">
            <label for="request_publish">Request to publish?</label>
            <input type="checkbox" name="request_publish"></div>
        <input type="submit" value="submit">
    </form>
</div>

{% endif %} {% endblock %}